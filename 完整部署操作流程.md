# ğŸš€ EPCç³»ç»Ÿå®Œæ•´éƒ¨ç½²æ“ä½œæµç¨‹

## ğŸ“‹ ç›®å½•
1. [å‡†å¤‡å·¥ä½œ](#å‡†å¤‡å·¥ä½œ)
2. [ä»£ç æ¨é€åˆ°GitHub](#ä»£ç æ¨é€åˆ°github)
3. [Renderå¹³å°éƒ¨ç½²](#renderå¹³å°éƒ¨ç½²)
4. [é…ç½®ä¸éªŒè¯](#é…ç½®ä¸éªŒè¯)
5. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ä¸€ã€å‡†å¤‡å·¥ä½œ

### 1.1 æ£€æŸ¥æœ¬åœ°ä»£ç çŠ¶æ€

```powershell
# è¿›å…¥é¡¹ç›®ç›®å½•
cd C:\Users\Administrator\Desktop\xiangmu

# æŸ¥çœ‹GitçŠ¶æ€
git status

# æŸ¥çœ‹å½“å‰åˆ†æ”¯
git branch
```

### 1.2 ç¡®è®¤å¿…è¦æ–‡ä»¶å­˜åœ¨

- âœ… `render.yaml` - Renderéƒ¨ç½²é…ç½®
- âœ… `server/requirements.txt` - Pythonä¾èµ–
- âœ… `client/package.json` - Node.jsä¾èµ–
- âœ… `.gitignore` - Gitå¿½ç•¥æ–‡ä»¶

---

## äºŒã€ä»£ç æ¨é€åˆ°GitHub

### 2.1 æäº¤æ‰€æœ‰æ›´æ”¹

```powershell
# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤æ›´æ”¹
git commit -m "å‡†å¤‡éƒ¨ç½²åˆ°Render"

# æŸ¥çœ‹æäº¤å†å²
git log --oneline -5
```

### 2.2 æ¨é€åˆ°GitHub

```powershell
# æ¨é€åˆ°mainåˆ†æ”¯
git push origin main

# å¦‚æœç½‘ç»œé—®é¢˜ï¼Œå¯ä»¥å¤šè¯•å‡ æ¬¡
# æˆ–è€…ä½¿ç”¨ä»£ç†
```

**é¢„æœŸç»“æœï¼š**
```
Enumerating objects: X, done.
Counting objects: 100% (X/X), done.
Writing objects: 100% (X/X), X KiB | X MiB/s, done.
Total X (delta X), reused X (delta X)
To https://github.com/AZDZXX12/EPCProject-System-zxx.git
   xxxxxxx..yyyyyyy  main -> main
```

### 2.3 éªŒè¯GitHubä»“åº“

è®¿é—®ï¼šhttps://github.com/AZDZXX12/EPCProject-System-zxx

ç¡®è®¤ä»¥ä¸‹æ–‡ä»¶å·²ä¸Šä¼ ï¼š
- âœ… `render.yaml`
- âœ… `server/` ç›®å½•
- âœ… `client/` ç›®å½•

---

## ä¸‰ã€Renderå¹³å°éƒ¨ç½²

### 3.1 ç™»å½•Render

1. è®¿é—®ï¼šhttps://dashboard.render.com/
2. ç‚¹å‡» "Sign In"
3. é€‰æ‹© "Sign in with GitHub"
4. æˆæƒRenderè®¿é—®æ‚¨çš„GitHubè´¦å·

### 3.2 è¿æ¥GitHubä»“åº“

1. åœ¨Render Dashboardï¼Œç‚¹å‡»å³ä¸Šè§’ "New +"
2. é€‰æ‹© "Blueprint"
3. ç‚¹å‡» "Connect a repository"
4. æ‰¾åˆ°å¹¶é€‰æ‹©ï¼š`AZDZXX12/EPCProject-System-zxx`
5. ç‚¹å‡» "Connect"

### 3.3 ä½¿ç”¨Blueprintéƒ¨ç½²ï¼ˆè‡ªåŠ¨éƒ¨ç½²ï¼‰

**Renderä¼šè‡ªåŠ¨è¯»å– `render.yaml` é…ç½®æ–‡ä»¶**

1. Renderä¼šæ˜¾ç¤ºå°†è¦åˆ›å»ºçš„æœåŠ¡ï¼š
   - âœ… `epc-backend` (Web Service)
   - âœ… `epc-frontend` (Static Site)

2. ç‚¹å‡» "Apply" å¼€å§‹éƒ¨ç½²

3. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦5-10åˆ†é’Ÿï¼‰

**éƒ¨ç½²è¿‡ç¨‹ï¼š**
```
ğŸ“¦ epc-backend (åç«¯æœåŠ¡)
  â”œâ”€ ğŸ”§ Installing Python dependencies...
  â”œâ”€ ğŸ“ pip install -r server/requirements.txt
  â”œâ”€ âœ… Build successful
  â””â”€ ğŸš€ Starting service: python quick-start-sqlite.py

ğŸ“¦ epc-frontend (å‰ç«¯æœåŠ¡)
  â”œâ”€ ğŸ”§ Installing Node.js dependencies...
  â”œâ”€ ğŸ“ npm install
  â”œâ”€ ğŸ—ï¸  Building React app...
  â”œâ”€ ğŸ“ npm run build
  â”œâ”€ âœ… Build successful
  â””â”€ ğŸš€ Deploying static files
```

---

## å››ã€é…ç½®ä¸éªŒè¯

### 4.1 è·å–æœåŠ¡URL

éƒ¨ç½²å®Œæˆåï¼ŒRenderä¼šä¸ºæ¯ä¸ªæœåŠ¡åˆ†é…URLï¼š

**åç«¯æœåŠ¡ï¼š**
- URLæ ¼å¼ï¼š`https://epc-backend-xxxx.onrender.com`
- åœ¨Render Dashboardæ‰¾åˆ° `epc-backend` æœåŠ¡
- å¤åˆ¶URLï¼ˆä¾‹å¦‚ï¼š`https://epc-backend-abc123.onrender.com`ï¼‰

**å‰ç«¯æœåŠ¡ï¼š**
- URLæ ¼å¼ï¼š`https://epc-frontend-xxxx.onrender.com`
- åœ¨Render Dashboardæ‰¾åˆ° `epc-frontend` æœåŠ¡
- å¤åˆ¶URL

### 4.2 æ›´æ–°å‰ç«¯APIé…ç½®

**é‡è¦ï¼šå‰ç«¯éœ€è¦çŸ¥é“åç«¯çš„å®é™…URL**

1. åœ¨Render Dashboardï¼Œæ‰¾åˆ° `epc-frontend` æœåŠ¡
2. ç‚¹å‡»è¿›å…¥æœåŠ¡è¯¦æƒ…é¡µ
3. ç‚¹å‡»å·¦ä¾§ "Environment" æ ‡ç­¾
4. æ‰¾åˆ° `REACT_APP_API_URL` ç¯å¢ƒå˜é‡
5. æ›´æ–°ä¸ºåç«¯å®é™…URLï¼š
   ```
   REACT_APP_API_URL=https://epc-backend-abc123.onrender.com
   ```
6. ç‚¹å‡» "Save Changes"
7. Renderä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²å‰ç«¯ï¼ˆçº¦2-3åˆ†é’Ÿï¼‰

### 4.3 é…ç½®åç«¯CORS

**å¦‚æœå‰åç«¯åŸŸåä¸åŒï¼Œéœ€è¦é…ç½®CORS**

#### æ–¹æ³•1ï¼šé€šè¿‡GitHubæ›´æ–°ä»£ç 

ç¼–è¾‘ `server/quick-start-sqlite.py`ï¼Œåœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ ï¼š

```python
from fastapi.middleware.cors import CORSMiddleware

# åœ¨ app = FastAPI() ä¹‹åæ·»åŠ 
app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "https://epc-frontend-xxxx.onrender.com",  # æ›¿æ¢ä¸ºå®é™…å‰ç«¯URL
        "http://localhost:3000",  # æœ¬åœ°å¼€å‘
    ],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

æäº¤å¹¶æ¨é€ï¼š
```powershell
git add server/quick-start-sqlite.py
git commit -m "Add CORS configuration"
git push origin main
```

Renderä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ›´æ–°å¹¶é‡æ–°éƒ¨ç½²ã€‚

#### æ–¹æ³•2ï¼šé€šè¿‡ç¯å¢ƒå˜é‡é…ç½®

åœ¨åç«¯æœåŠ¡çš„Environmentä¸­æ·»åŠ ï¼š
```
ALLOWED_ORIGINS=https://epc-frontend-xxxx.onrender.com,http://localhost:3000
```

### 4.4 éªŒè¯éƒ¨ç½²

#### éªŒè¯åç«¯

1. è®¿é—®ï¼š`https://epc-backend-xxxx.onrender.com/docs`
2. åº”è¯¥çœ‹åˆ°FastAPIçš„Swaggeræ–‡æ¡£é¡µé¢
3. æµ‹è¯•APIç«¯ç‚¹ï¼š
   - GET `/api/v1/projects/` - è·å–é¡¹ç›®åˆ—è¡¨
   - GET `/api/v1/auth/csrf/` - è·å–CSRFä»¤ç‰Œ

#### éªŒè¯å‰ç«¯

1. è®¿é—®ï¼š`https://epc-frontend-xxxx.onrender.com`
2. åº”è¯¥çœ‹åˆ°EPCç³»ç»Ÿç™»å½•é¡µé¢
3. æµ‹è¯•åŠŸèƒ½ï¼š
   - âœ… ç™»å½•ï¼ˆç”¨æˆ·åï¼šadminï¼Œå¯†ç ï¼šadmin123ï¼‰
   - âœ… æŸ¥çœ‹é¡¹ç›®åˆ—è¡¨
   - âœ… åˆ›å»ºæ–°é¡¹ç›®
   - âœ… æ‰“å¼€ç”˜ç‰¹å›¾
   - âœ… è®¾å¤‡ç®¡ç†

#### æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œæ£€æŸ¥ï¼š
- âŒ æ²¡æœ‰CORSé”™è¯¯
- âŒ æ²¡æœ‰404é”™è¯¯
- âŒ æ²¡æœ‰ç½‘ç»œè¯·æ±‚å¤±è´¥
- âœ… APIè¯·æ±‚æˆåŠŸ

---

## äº”ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1 åç«¯éƒ¨ç½²å¤±è´¥

**é—®é¢˜ï¼š** Build failed æˆ– Start failed

**åŸå› ï¼š**
- Pythonç‰ˆæœ¬ä¸åŒ¹é…
- ä¾èµ–å®‰è£…å¤±è´¥
- å¯åŠ¨å‘½ä»¤é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**

1. æ£€æŸ¥ `server/requirements.txt`ï¼š
```txt
fastapi==0.104.1
uvicorn==0.24.0
python-multipart==0.0.6
pydantic==2.5.0
```

2. æ£€æŸ¥Renderé…ç½®ï¼š
```yaml
env: python
buildCommand: pip install -r server/requirements.txt
startCommand: cd server && python quick-start-sqlite.py
```

3. æŸ¥çœ‹Renderæ—¥å¿—ï¼š
   - è¿›å…¥æœåŠ¡è¯¦æƒ…é¡µ
   - ç‚¹å‡» "Logs" æ ‡ç­¾
   - æŸ¥çœ‹é”™è¯¯ä¿¡æ¯

### 5.2 å‰ç«¯éƒ¨ç½²å¤±è´¥

**é—®é¢˜ï¼š** Build failed

**åŸå› ï¼š**
- Node.jsç‰ˆæœ¬ä¸åŒ¹é…
- npm installå¤±è´¥
- buildå‘½ä»¤é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**

1. æ£€æŸ¥ `client/package.json`ï¼š
```json
{
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build"
  }
}
```

2. æ£€æŸ¥Renderé…ç½®ï¼š
```yaml
env: static
buildCommand: cd client && npm install && npm run build
staticPublishPath: client/build
```

3. ç¡®ä¿ `NODE_VERSION=18` ç¯å¢ƒå˜é‡å·²è®¾ç½®

### 5.3 å‰ç«¯æ— æ³•è¿æ¥åç«¯

**é—®é¢˜ï¼š** APIè¯·æ±‚å¤±è´¥ï¼ŒCORSé”™è¯¯

**åŸå› ï¼š**
- `REACT_APP_API_URL` é…ç½®é”™è¯¯
- åç«¯æœªé…ç½®CORS
- åç«¯æœåŠ¡æœªå¯åŠ¨

**è§£å†³æ–¹æ¡ˆï¼š**

1. ç¡®è®¤ `REACT_APP_API_URL` æ­£ç¡®ï¼š
```
REACT_APP_API_URL=https://epc-backend-abc123.onrender.com
```

2. ç¡®è®¤åç«¯å·²æ·»åŠ CORSä¸­é—´ä»¶ï¼ˆè§4.3èŠ‚ï¼‰

3. æµ‹è¯•åç«¯æ˜¯å¦è¿è¡Œï¼š
```bash
curl https://epc-backend-xxxx.onrender.com/docs
```

### 5.4 æ•°æ®åº“é—®é¢˜

**é—®é¢˜ï¼š** æ•°æ®ä¸¢å¤±æˆ–æ— æ³•ä¿å­˜

**åŸå› ï¼š** Renderå…è´¹ç‰ˆä¸æ”¯æŒæŒä¹…åŒ–å­˜å‚¨

**è§£å†³æ–¹æ¡ˆï¼š**

#### ä¸´æ—¶æ–¹æ¡ˆï¼ˆå¼€å‘/æµ‹è¯•ï¼‰
ä½¿ç”¨SQLiteï¼ˆå½“å‰æ–¹æ¡ˆï¼‰ï¼Œä½†æ•°æ®ä¼šåœ¨æœåŠ¡é‡å¯æ—¶ä¸¢å¤±

#### é•¿æœŸæ–¹æ¡ˆï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
ä½¿ç”¨PostgreSQLï¼š

1. åœ¨Renderåˆ›å»ºPostgreSQLæ•°æ®åº“ï¼š
   - ç‚¹å‡» "New +" â†’ "PostgreSQL"
   - é€‰æ‹©Free plan
   - åˆ›å»ºæ•°æ®åº“

2. è·å–æ•°æ®åº“è¿æ¥URL

3. æ›´æ–°åç«¯ä»£ç ä½¿ç”¨PostgreSQL

4. åœ¨åç«¯ç¯å¢ƒå˜é‡ä¸­æ·»åŠ ï¼š
```
DATABASE_URL=postgresql://user:pass@host/dbname
```

### 5.5 æœåŠ¡ä¼‘çœ é—®é¢˜

**é—®é¢˜ï¼š** é¦–æ¬¡è®¿é—®å¾ˆæ…¢ï¼ˆ30ç§’+ï¼‰

**åŸå› ï¼š** Renderå…è´¹ç‰ˆ15åˆ†é’Ÿæ— æ´»åŠ¨ä¼šä¼‘çœ 

**è§£å†³æ–¹æ¡ˆï¼š**

1. é¦–æ¬¡è®¿é—®éœ€è¦ç­‰å¾…æœåŠ¡å”¤é†’
2. æˆ–ä½¿ç”¨å®šæ—¶ä»»åŠ¡ä¿æŒæ´»è·ƒï¼š
   - ä½¿ç”¨UptimeRobotç­‰æœåŠ¡
   - æ¯10åˆ†é’Ÿpingä¸€æ¬¡åç«¯
3. æˆ–å‡çº§åˆ°ä»˜è´¹ç‰ˆï¼ˆ$7/æœˆï¼‰

### 5.6 ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

**é—®é¢˜ï¼š** å‰ç«¯ä»ç„¶ä½¿ç”¨localhost

**åŸå› ï¼š** Reactç¯å¢ƒå˜é‡éœ€è¦é‡æ–°æ„å»º

**è§£å†³æ–¹æ¡ˆï¼š**

1. åœ¨Renderä¸­æ›´æ–°ç¯å¢ƒå˜é‡å
2. å¿…é¡»è§¦å‘é‡æ–°éƒ¨ç½²ï¼š
   - ç‚¹å‡» "Manual Deploy" â†’ "Deploy latest commit"
   - æˆ–æ¨é€æ–°çš„commitåˆ°GitHub

**æ³¨æ„ï¼š** Reactç¯å¢ƒå˜é‡åœ¨æ„å»ºæ—¶æ³¨å…¥ï¼Œè¿è¡Œæ—¶æ— æ³•æ›´æ”¹

---

## å…­ã€éƒ¨ç½²æ£€æŸ¥æ¸…å•

### æ¨é€å‰æ£€æŸ¥
- [ ] æ‰€æœ‰ä»£ç å·²æäº¤åˆ°Git
- [ ] `.gitignore` å·²é…ç½®
- [ ] `render.yaml` å·²åˆ›å»º
- [ ] `server/requirements.txt` å®Œæ•´
- [ ] `client/package.json` å®Œæ•´

### Renderé…ç½®æ£€æŸ¥
- [ ] GitHubä»“åº“å·²è¿æ¥
- [ ] Blueprintå·²åº”ç”¨
- [ ] åç«¯æœåŠ¡å·²åˆ›å»º
- [ ] å‰ç«¯æœåŠ¡å·²åˆ›å»º
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®

### åŠŸèƒ½éªŒè¯æ£€æŸ¥
- [ ] åç«¯APIæ–‡æ¡£å¯è®¿é—®
- [ ] å‰ç«¯é¡µé¢å¯è®¿é—®
- [ ] ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] é¡¹ç›®ç®¡ç†æ­£å¸¸
- [ ] ç”˜ç‰¹å›¾æ­£å¸¸
- [ ] è®¾å¤‡ç®¡ç†æ­£å¸¸
- [ ] æ— CORSé”™è¯¯
- [ ] æ— 404é”™è¯¯

---

## ä¸ƒã€å¿«é€Ÿå‘½ä»¤å‚è€ƒ

### Gitå‘½ä»¤
```powershell
# æŸ¥çœ‹çŠ¶æ€
git status

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "éƒ¨ç½²åˆ°Render"

# æ¨é€
git push origin main

# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v

# æŸ¥çœ‹æäº¤å†å²
git log --oneline -10
```

### æœ¬åœ°æµ‹è¯•å‘½ä»¤
```powershell
# å¯åŠ¨åç«¯
cd server
python quick-start-sqlite.py

# å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd client
npm start
```

---

## å…«ã€éƒ¨ç½²åçš„URL

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨çš„ç³»ç»Ÿå°†åœ¨ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

| æœåŠ¡ | URL | è¯´æ˜ |
|------|-----|------|
| å‰ç«¯ | `https://epc-frontend-xxxx.onrender.com` | ç”¨æˆ·è®¿é—®å…¥å£ |
| åç«¯ | `https://epc-backend-xxxx.onrender.com` | APIæœåŠ¡ |
| APIæ–‡æ¡£ | `https://epc-backend-xxxx.onrender.com/docs` | Swaggeræ–‡æ¡£ |

---

## ä¹ã€ä¸‹ä¸€æ­¥æ“ä½œ

### ç«‹å³æ‰§è¡Œï¼š

1. **æ¨é€ä»£ç åˆ°GitHub**
```powershell
git push origin main
```

2. **ç™»å½•Render**
   - è®¿é—®ï¼šhttps://dashboard.render.com/
   - ä½¿ç”¨GitHubç™»å½•

3. **åˆ›å»ºBlueprint**
   - ç‚¹å‡» "New +" â†’ "Blueprint"
   - é€‰æ‹©ä»“åº“ï¼š`AZDZXX12/EPCProject-System-zxx`
   - ç‚¹å‡» "Apply"

4. **ç­‰å¾…éƒ¨ç½²å®Œæˆ**
   - ç›‘æ§éƒ¨ç½²æ—¥å¿—
   - çº¦5-10åˆ†é’Ÿ

5. **é…ç½®å‰ç«¯APIåœ°å€**
   - æ›´æ–° `REACT_APP_API_URL`
   - ç­‰å¾…é‡æ–°éƒ¨ç½²

6. **æµ‹è¯•ç³»ç»ŸåŠŸèƒ½**
   - è®¿é—®å‰ç«¯URL
   - æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

### åç»­ä¼˜åŒ–ï¼š

- [ ] é…ç½®è‡ªå®šä¹‰åŸŸå
- [ ] å‡çº§åˆ°PostgreSQLæ•°æ®åº“
- [ ] é…ç½®SSLè¯ä¹¦ï¼ˆRenderè‡ªåŠ¨æä¾›ï¼‰
- [ ] è®¾ç½®ç›‘æ§å’Œå‘Šè­¦
- [ ] é…ç½®CI/CDè‡ªåŠ¨éƒ¨ç½²

---

## åã€æŠ€æœ¯æ”¯æŒ

### Renderæ–‡æ¡£
- å®˜æ–¹æ–‡æ¡£ï¼šhttps://render.com/docs
- Blueprintæ–‡æ¡£ï¼šhttps://render.com/docs/infrastructure-as-code

### é¡¹ç›®ä»“åº“
- GitHubï¼šhttps://github.com/AZDZXX12/EPCProject-System-zxx

### é‡åˆ°é—®é¢˜ï¼Ÿ
1. æ£€æŸ¥RenderæœåŠ¡æ—¥å¿—
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°
3. å‚è€ƒæœ¬æ–‡æ¡£"å¸¸è§é—®é¢˜"ç« èŠ‚
4. æŸ¥çœ‹GitHub Issues

---

ğŸ‰ **æŒ‰ç…§ä»¥ä¸Šæµç¨‹æ“ä½œï¼Œæ‚¨çš„EPCé¡¹ç›®ç®¡ç†ç³»ç»Ÿå°†æˆåŠŸéƒ¨ç½²åˆ°äº‘ç«¯ï¼**

**é¢„è®¡æ€»æ—¶é—´ï¼š15-20åˆ†é’Ÿ**

