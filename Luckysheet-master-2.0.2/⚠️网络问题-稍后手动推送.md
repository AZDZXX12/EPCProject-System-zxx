# âš ï¸ GitHubæ¨é€å¤±è´¥ - ç½‘ç»œé—®é¢˜

## ğŸ“Š å½“å‰çŠ¶æ€

### âœ… ä»£ç å·²å®Œæˆ
æ‰€æœ‰ä»£ç ä¿®æ”¹å·²å®Œæˆå¹¶æäº¤åˆ°**æœ¬åœ°Gitä»“åº“**ï¼š

```bash
Commit: ad2ae7d
Message: Add backend whitelist API - implement phone authorization system
Files Changed: 5 files
Status: âœ… æœ¬åœ°å·²æäº¤
        â³ è¿œç¨‹å¾…æ¨é€
```

### âŒ æ¨é€å¤±è´¥åŸå› 
```
fatal: unable to access 'https://github.com/azdzxx/luckysheet-selection-system.git/'
Failed to connect to github.com port 443 after 21078 ms: Could not connect to server
```

**å¯èƒ½åŸå› ï¼š**
1. ğŸ”’ é˜²ç«å¢™é˜»æ­¢äº†GitHubè®¿é—®
2. ğŸŒ ç½‘ç»œä¸´æ—¶ä¸ç¨³å®š
3. ğŸš« ä»£ç†é…ç½®é—®é¢˜
4. â° GitHubæœåŠ¡æš‚æ—¶ä¸å¯ç”¨

---

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¸âƒ£ï¼šç¨åæ‰‹åŠ¨æ¨é€ï¼ˆæœ€ç®€å•ï¼‰

ç­‰å¾…ç½‘ç»œç¨³å®šåï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š

```bash
cd C:\Users\Administrator\Desktop\Luckysheet-master-2.0.2
git push origin main
```

æˆ–è€…ç›´æ¥åŒå‡»è¿è¡Œ `å¿«é€Ÿæ¨é€åˆ°GitHub.bat`

---

### æ–¹æ¡ˆ2ï¸âƒ£ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥

**æµ‹è¯•GitHubè¿æ¥ï¼š**
```bash
ping github.com
```

**å¦‚æœèƒ½pingé€šï¼Œå°è¯•æ¨é€ï¼š**
```bash
git push
```

---

### æ–¹æ¡ˆ3ï¸âƒ£ï¼šä½¿ç”¨ä»£ç†ï¼ˆå¦‚æœæœ‰ï¼‰

**è®¾ç½®ä»£ç†ï¼š**
```bash
# å‡è®¾ä»£ç†åœ°å€ä¸º 127.0.0.1:7890
git config --global http.proxy http://127.0.0.1:7890
git config --global https.proxy http://127.0.0.1:7890
git push
```

**æ¨é€åæ¸…é™¤ä»£ç†ï¼š**
```bash
git config --global --unset http.proxy
git config --global --unset https.proxy
```

---

### æ–¹æ¡ˆ4ï¸âƒ£ï¼šä½¿ç”¨SSHä»£æ›¿HTTPS

**ç”ŸæˆSSHå¯†é’¥ï¼ˆå¦‚æœæ²¡æœ‰ï¼‰ï¼š**
```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

**æ·»åŠ åˆ°GitHubï¼š**
1. å¤åˆ¶å…¬é’¥å†…å®¹ï¼š`cat ~/.ssh/id_ed25519.pub`
2. æ‰“å¼€GitHub â†’ Settings â†’ SSH and GPG keys â†’ New SSH key
3. ç²˜è´´å…¬é’¥å¹¶ä¿å­˜

**ä¿®æ”¹è¿œç¨‹ä»“åº“URLï¼š**
```bash
git remote set-url origin git@github.com:azdzxx/luckysheet-selection-system.git
git push
```

---

### æ–¹æ¡ˆ5ï¸âƒ£ï¼šä½¿ç”¨GitHub Desktop

1. ä¸‹è½½å®‰è£… [GitHub Desktop](https://desktop.github.com/)
2. æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹
3. ç‚¹å‡» "Push origin" æŒ‰é’®

---

## ğŸ“ æœ¬æ¬¡ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•

```
åç«¯æ–‡ä»¶ï¼ˆxuanxing/backend/selections/ï¼‰ï¼š
âœ… models.py       - æ–°å¢Whitelistæ¨¡å‹ï¼Œphoneå­—æ®µ
âœ… serializers.py  - æ–°å¢WhitelistSerializerï¼Œphoneå­—æ®µ
âœ… views.py        - æ–°å¢whitelist_view APIï¼Œæ”¯æŒæŒ‰phoneç­›é€‰
âœ… urls.py         - æ³¨å†Œ/whitelist/è·¯ç”±
âœ… migrations/0002_whitelist_and_phone_field.py - æ•°æ®åº“è¿ç§»æ–‡ä»¶
```

---

## ğŸš€ æ¨é€æˆåŠŸåçš„è‡ªåŠ¨éƒ¨ç½²æµç¨‹

ä¸€æ—¦æ¨é€æˆåŠŸï¼ŒRenderä¼šè‡ªåŠ¨ï¼š

### 1. æ£€æµ‹åˆ°æ–°æäº¤
```
âœ“ GitHub webhookè§¦å‘
âœ“ Renderå¼€å§‹è‡ªåŠ¨æ„å»º
```

### 2. æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼ˆrender.yamlï¼‰
```bash
pip install -r requirements.txt        # å®‰è£…ä¾èµ–
python manage.py collectstatic         # æ”¶é›†é™æ€æ–‡ä»¶
python manage.py migrate               # ğŸ”¥ è‡ªåŠ¨æ‰§è¡Œæ•°æ®åº“è¿ç§»
python manage.py load_initial_data     # åŠ è½½åˆå§‹æ•°æ®
```

### 3. å¯åŠ¨æœåŠ¡
```bash
gunicorn cable_selector.wsgi:application
```

### 4. æ–°APIç«‹å³å¯ç”¨ âœ…
```
GET  https://luckysheet-backend.onrender.com/api/selections/whitelist/
POST https://luckysheet-backend.onrender.com/api/selections/whitelist/
```

---

## âœ… éªŒè¯éƒ¨ç½²æˆåŠŸ

æ¨é€å¹¶éƒ¨ç½²åï¼Œæµ‹è¯•ä»¥ä¸‹æ­¥éª¤ï¼š

### 1ï¸âƒ£ æµ‹è¯•ç™½åå•API
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
```
https://luckysheet-backend.onrender.com/api/selections/whitelist/
```

åº”è¯¥çœ‹åˆ°ï¼š
```json
{
  "whitelist": ["18968563368"]
}
```

### 2ï¸âƒ£ æµ‹è¯•è·¨è®¾å¤‡åŒæ­¥

**ç”µè„‘Aï¼ˆç®¡ç†å‘˜ï¼‰ï¼š**
1. æ‰“å¼€ç”¨æˆ·ç®¡ç†é¡µé¢
2. æ·»åŠ æ‰‹æœºå·ï¼š`13800138000`
3. çœ‹åˆ°æç¤ºï¼š"âœ… å·²åŒæ­¥åˆ°äº‘ç«¯"

**ç”µè„‘Bï¼ˆå¦ä¸€å°ç”µè„‘ï¼‰ï¼š**
1. æ‰“å¼€ç”¨æˆ·ç®¡ç†é¡µé¢
2. åˆ·æ–°é¡µé¢
3. âœ… åº”è¯¥çœ‹åˆ° `13800138000` å·²å­˜åœ¨

**ç”µè„‘Cï¼ˆç”¨æˆ·ç™»å½•ï¼‰ï¼š**
1. æ‰“å¼€ç™»å½•é¡µ
2. è¾“å…¥æ‰‹æœºå·ï¼š`13800138000`
3. âœ… è‡ªåŠ¨è¯†åˆ«ä¸ºæˆæƒç”¨æˆ·
4. âœ… æ˜¾ç¤ºæ³¨å†Œç•Œé¢

---

## ğŸ” éƒ¨ç½²åé—®é¢˜æ’æŸ¥

### å¦‚æœç™½åå•APIè¿”å›404
**åŸå› ï¼š** ä»£ç è¿˜æ²¡æ¨é€æˆåŠŸ
**è§£å†³ï¼š** æ£€æŸ¥GitHubä»“åº“æ˜¯å¦æœ‰æœ€æ–°æäº¤

### å¦‚æœç™½åå•APIè¿”å›500
**åŸå› ï¼š** æ•°æ®åº“è¿ç§»æ²¡æ‰§è¡Œ
**è§£å†³ï¼š** Renderä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œç­‰å¾…5-10åˆ†é’Ÿ

### å¦‚æœå‰ç«¯æ— æ³•è¿æ¥
**åŸå› ï¼š** CORSé…ç½®é—®é¢˜
**è§£å†³ï¼š** æ£€æŸ¥ `settings.py` ä¸­çš„ `CORS_ALLOWED_ORIGINS`

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœæ¨é€æˆåŠŸåè¿˜æœ‰é—®é¢˜ï¼Œè¯·ï¼š

1. **æŸ¥çœ‹Renderéƒ¨ç½²æ—¥å¿—**
   - ç™»å½• [Render Dashboard](https://dashboard.render.com/)
   - ç‚¹å‡»åç«¯æœåŠ¡
   - æŸ¥çœ‹ "Logs" æ ‡ç­¾
   - æœç´¢ "migrate" å…³é”®è¯

2. **æŸ¥çœ‹æµè§ˆå™¨Console**
   - æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ° "Console" æ ‡ç­¾
   - æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

3. **æ‰‹åŠ¨æµ‹è¯•API**
   ```bash
   curl https://luckysheet-backend.onrender.com/api/selections/whitelist/
   ```

---

## ğŸ’¡ æ€»ç»“

### é—®é¢˜æ ¹æº
å‰ç«¯è°ƒç”¨çš„ `/api/selections/whitelist/` ç«¯ç‚¹**åç«¯ä»æ¥æ²¡æœ‰å®ç°**ï¼Œå¯¼è‡´æ‰€æœ‰è¯·æ±‚å¤±è´¥ï¼Œå›é€€åˆ°æœ¬åœ°`localStorage`ï¼Œæ— æ³•è·¨è®¾å¤‡åŒæ­¥ã€‚

### è§£å†³æ–¹æ¡ˆ
1. âœ… åˆ›å»ºWhitelistæ•°æ®åº“æ¨¡å‹
2. âœ… å®ç°GET/POSTç™½åå•API
3. âœ… æ·»åŠ ç”¨æˆ·éš”ç¦»åŠŸèƒ½ï¼ˆphoneå­—æ®µï¼‰
4. âœ… åˆ›å»ºæ•°æ®åº“è¿ç§»æ–‡ä»¶
5. â³ ç­‰å¾…æ¨é€åˆ°GitHub
6. â³ Renderè‡ªåŠ¨éƒ¨ç½²

### ä¸‹ä¸€æ­¥
**ç­‰å¾…ç½‘ç»œç¨³å®šåæ‰§è¡Œï¼š**
```bash
git push origin main
```

ç„¶åç­‰å¾…5-10åˆ†é’Ÿè®©Renderè‡ªåŠ¨éƒ¨ç½²å³å¯ï¼

---

**ğŸ“Œ é‡è¦æç¤ºï¼šä»£ç å·²åœ¨æœ¬åœ°å®Œæˆå¹¶æäº¤ï¼Œåªéœ€æ¨é€åˆ°GitHubå³å¯ï¼**

