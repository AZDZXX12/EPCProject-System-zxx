# 离心风机系数数据库集成报告

## ✅ 完成情况

### 1. 数据提取
- ✓ 从`数据库.xlsx`的"离心风机系数"工作表提取数据
- ✓ 共62种风机型号
- ✓ 每种型号包含7组数据：
  - 流量系数（7组）
  - 全压系数（7组）
  - 内效率（7组）

### 2. 数据转换
- ✓ 生成`fan_coefficients_database.js`
- ✓ 提供`getFanModelList()`和`getFanCoefficients(model)`工具函数
- ✓ 数据格式化为易读的JavaScript对象

### 3. 页面集成
- ✓ 在风机选型页面添加"风机型号"下拉框
- ✓ 动态加载62种风机型号
- ✓ 计算时自动读取选定型号的系数
- ✓ 在"性能参数"标签页显示系数详细数据

### 4. 计算逻辑更新
- ✓ 从系数数据库获取风机效率（取第4组，中间值）
- ✓ 应用于电机功率计算
- ✓ 保留Excel公式逻辑不变

## 📊 风机型号列表（62种）

### 小型风机（10系列）
- 10-14, 10-18

### 中型风机（11系列）
- 11-26, 11-30, 11-38

### 大型风机（14系列）
- 14-46

### 4系列（最常用）
- 4-57, 4-60, 4-68, 4-70, 4-72, 4-73, 4-73-13, 4-73-15, 4-73-18, 4-73D, 4-73F, 4-76

### 5系列
- 5-29, 5-36, 5-44, 5-47, 5-47-12, 5-48, 5-49, 5-50, 5-51, 5-51F, 5-52, 5-53

### 6系列
- 6-20, 6-23, 6-29, 6-30, 6-31, 6-40, 6-46, 6-48, 6-51, 6-51F, 6-52

### 7系列
- 7-16, 7-29, 7-41

### 8系列
- 8-09, 8-18, 8-39

### 9系列
- 9-12, 9-16, 9-18, 9-19, 9-26, 9-28, 9-28F, 9-38, 9-55

### 特殊型号
- BB24, BB50, G4-68, M9-26, T4-72, X4-73

## 🔧 技术实现

### 文件结构
```
dist-refactored/
├── fan-selector.html           # 风机选型页面（已更新）
├── fan_coefficients_database.js # 风机系数数据库（新增）
└── fan_system_database.js      # 风机性能参数（已有）
```

### 关键函数

1. **initFanModelList()** - 初始化风机型号下拉框
2. **displayFanCoefficients(model)** - 显示风机系数表
3. **calculateFanSelection()** - 主计算函数（已更新）

### 数据应用示例

```javascript
// 获取选定的风机型号
const selectedModel = document.getElementById('fanModel').value;

// 从数据库获取系数
const coeffs = FAN_COEFFICIENTS_DATABASE[selectedModel];

// 使用第4组系数（中间值）
const efficiency = coeffs.efficiency[3] / 100; // 转为小数

// 应用于功率计算
const shaftPower = (flowRate * pressure) / (3600 * efficiency * 1000);
```

## 📝 使用说明

1. **选择风机型号**：在"风机参数"区域选择具体型号
2. **查看系数**：切换到"性能参数"标签查看该型号的7组系数
3. **开始计算**：点击"开始选型计算"，系统自动应用该型号的效率数据
4. **查看结果**：计算结果会显示电机功率、轴功率等关键参数

## ⚠️ 注意事项

1. 当前使用每个型号的第4组系数（中间值）进行计算
2. 如需根据工况点智能选择系数组，需进一步开发插值算法
3. 效率值已从数据库读取，不再使用固定的82%

## 🎯 后续优化建议

1. **智能系数选择**：根据流量、压力自动选择最佳工况点
2. **性能曲线绘制**：使用7组系数绘制完整性能曲线
3. **型号推荐**：根据需求参数自动推荐合适的风机型号
4. **多点校验**：支持多个工况点的性能验证

---

**数据来源**：数据库.xlsx - 离心风机系数工作表  
**生成时间**：2025-10-14  
**版本**：v1.0


